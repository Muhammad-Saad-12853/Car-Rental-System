<body>
  <div class="container-fluid">
    <div class="row g-4">
      <!-- Car List Table (col-8) -->
      <div class="col-lg-8">
        <div class="card">
          <div class="card-header">Car List</div>
          <div class="card-body p-3">
            <table class="table table-hover align-middle">
              <thead class="table-light">
                <tr>
                  <th>Car ID</th>
                  <th>Brand</th>
                  <th>Model</th>
                  <th>Year</th>
                  <th>Color</th>
                  <th>Daily Rate</th>
                  <th>Reg No</th>
                  <!-- <th>Image</th> -->
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                @for (item of carList; track $index) {
                <tr>
                  <td>{{$index}}</td>
                  <td>{{item.brand}}</td>
                  <td>{{item.model}}</td>
                  <td>{{item.year}}</td>
                  <td>{{item.color}}</td>
                  <td>{{item.dailyRate}}</td>
                  <td>{{item.regNo}}</td>
                  <!-- <td>
                    <img src="https://via.placeholder.com/80x50" alt="Car" class="car-image" />
                  </td> -->
                  <td>
                    <button class="btn btn-sm btn-primary " (click)="onEdit(item)"><i class="fa fa-pencil"></i></button>
                    <button class="btn btn-sm btn-danger" (click)="onDeleteCarById(item.carId)"><i class="fa fa-trash"></i></button>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Car Form (col-4) -->
      <div class="col-lg-4">
        <div class="card">
          <div class="card-header">Add / Edit Car</div>
          <div class="card-body">
            <form>
              <!-- <div class="mb-3">
                <label for="carId" class="form-label">Car ID</label>
                <input type="number" class="form-control" id="carId" placeholder="Enter Car ID">
              </div> -->
              <div class="mb-3">
                <label for="brand" class="form-label">Brand</label>
                <input
                  type="text"
                  [(ngModel)]="newCarObj.brand"
                  name="brand"
                  class="form-control"
                  id="brand"
                  placeholder="Enter Brand"
                />
              </div>
              <div class="mb-3">
                <label for="model" class="form-label">Model</label>
                <input
                  type="text"
                  [(ngModel)]="newCarObj.model"
                  name="model"
                  class="form-control"
                  id="model"
                  placeholder="Enter Model"
                />
              </div>
              <div class="mb-3">
                <label for="year" class="form-label">Year</label>
                <input
                  type="number"
                  [(ngModel)]="newCarObj.year"
                  name="year"
                  class="form-control"
                  id="year"
                  placeholder="Enter Year"
                />
              </div>
              <div class="mb-3">
                <label for="color" class="form-label">Color</label>
                <input
                  type="text"
                  [(ngModel)]="newCarObj.color"
                  name="color"
                  class="form-control"
                  id="color"
                  placeholder="Enter Color"
                />
              </div>
              <div class="mb-3">
                <label for="dailyRate" class="form-label">Daily Rate</label>
                <input
                  type="number"
                  [(ngModel)]="newCarObj.dailyRate"
                  name="dailyRate"
                  class="form-control"
                  id="dailyRate"
                  placeholder="Enter Daily Rate"
                />
              </div>
              <div class="mb-3">
                <label for="regNo" class="form-label">Registration No</label>
                <input
                  type="text"
                  [(ngModel)]="newCarObj.regNo"
                  name="regNo"
                  class="form-control"
                  id="regNo"
                  placeholder="Enter Registration No"
                />
              </div>
              <!-- <div class="mb-3">
                <label for="carImage" class="form-label">Car Image URL</label>
                <input
                  type="text"
                  [(ngModel)]="newCarObj.carImage"
                  name="carImage"
                  class="form-control"
                  id="carImage"
                  placeholder="Enter Image URL"
                />
              </div> -->
              <div class="d-grid">
                @if(newCarObj.carId==0){
                  <button type="button" (click)="onSaveCar()" class="btn btn-primary">
                  <i class="fa fa-save"></i> Save Car
                </button>
                }
                @else{
               <button type="button" (click)="onUpdateCar()" class="btn btn-warning">
                  <i class="fa fa-save"></i> Update Car
                </button>
                }
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
